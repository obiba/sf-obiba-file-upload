<div ng-controller="sfObibaFileUploadController"
     sf-field-model
     ng-class="{'has-error': form.disableErrorState !== true && hasError(), 'has-success': form.disableSuccessState !== true && hasSuccess(), 'has-feedback': form.feedback !== false }"
     schema-validate="form">
  <div class="form-group">
    <label class="control-label">{{form.title}}</label>

    <attachment-input ng-if="!form.readonly"
                      sf-field-model="replaceAll"
                      files="$$value$$.obibaFiles"
                      multiple="form.schema.multiple"></attachment-input>

    <attachment-list ng-if="form.readonly"
                     href-builder="getDownloadUrl"
                     files="$$value$$.obibaFiles"
                     sf-field-model="replaceAll"></attachment-list>
  </div>
</div>