angular.module("templates",[]).run(["$templateCache",function(e){e.put("src/templates/sf-obiba-file-upload.html",'<div ng-controller="sfObibaFileUploadController" sf-field-model>\n  <div class="form-group">\n    <label translate>description</label>\n    <input sf-field-model="replaceAll"\n           ng-disabled="form.readonly"\n           type="text"\n           class="form-control"\n           ng-model="$$value$$.description"\n           placeholder="{{form.description}}">\n\n    <attachment-input ng-if="!form.readonly"\n                        sf-field-model="replaceAll"\n                        files="$$value$$.obibaFiles"\n                        multiple="form.schema.multiple"></attachment-input>\n\n    <attachment-list ng-if="form.readonly"\n                     href-builder="getDownloadUrl"\n                     files="$$value$$.obibaFiles"\n                     sf-field-model="replaceAll"></attachment-list>\n  </div>\n</div>')}]),angular.module("sfObibaFileUpload",["schemaForm","templates","ngObibaMica"]).config(["schemaFormProvider","schemaFormDecoratorsProvider","sfPathProvider","sfBuilderProvider",function(e,l,o,a){var t=function(l,a,t){if("object"===a.type&&("obibaFile"===a.format||"obibaFiles"===a.format)){var n=e.stdFormObj(l,a,t);return n.key=t.path,n.type="obibaFileUpload",t.lookup[o.stringify(t.path)]=n,n}};e.defaults.object.unshift(t),l.defineAddOn("bootstrapDecorator","obibaFileUpload","src/templates/sf-obiba-file-upload.html",a.stdBuilders)}]).controller("sfObibaFileUploadController",["$scope","ngObibaMicaUrl",function(e,l){console.log(">>>> Model",e.model),e.getDownloadUrl=function(e){return l.getUrl("SchemaFormAttachmentDownloadResource").replace(":path",e.path).replace(":attachmentName",e.fileName).replace(":attachmentId",e.id).replace("//","/")},e.$watch("form",function(){console.log("####",e.form)},!0)}]);